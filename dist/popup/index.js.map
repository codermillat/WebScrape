{"version":3,"file":"index.js","sources":["../../src/popup/index.ts"],"sourcesContent":["/**\n * Popup modular bootstrap (Phase 2 scaffold).\n * Legacy popup.js still active via manifest until migration completes.\n * This file will gradually import refactored modules (ui, process, llm, storage).\n */\nimport { logger } from '@shared/logger';\n\nlogger.info('Popup scaffold bundle loaded (inactive until manifest swap)');\n\n// Placeholder init â€“ real implementation will replace this.\nfunction initScaffold() {\n  try {\n    logger.debug('Popup scaffold init start');\n    // Detect debug flag\n    const dbg = /\\bdebug\\b/i.test(location.search);\n    if (dbg) logger.setLevel('debug');\n    // Simple visual marker if loaded manually in a test harness\n    if (!document.getElementById('popup-scaffold-indicator')) {\n      const badge = document.createElement('div');\n      badge.id = 'popup-scaffold-indicator';\n      badge.textContent = 'Popup Scaffold Active';\n      badge.style.cssText = 'position:fixed;bottom:4px;right:4px;font:11px/1 system-ui;padding:4px 6px;background:#2563eb;color:#fff;border-radius:4px;z-index:99999;opacity:0.85;';\n      document.body.appendChild(badge);\n      setTimeout(() => badge.remove(), 2500);\n    }\n    logger.debug('Popup scaffold init complete');\n  } catch (e) {\n    logger.error('Popup scaffold init failed', e instanceof Error ? { message: e.message, stack: e.stack } : e);\n  }\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initScaffold);\n} else {\n  initScaffold();\n}\n\nexport {};\n"],"names":[],"mappings":";AAOA,OAAO,KAAK,6DAA6D;AAGzE,SAAS,eAAe;AACtB,MAAI;AACF,WAAO,MAAM,2BAA2B;AAExC,UAAM,MAAM,aAAa,KAAK,SAAS,MAAM;AAC7C,QAAI,IAAK,QAAO,SAAS,OAAO;AAEhC,QAAI,CAAC,SAAS,eAAe,0BAA0B,GAAG;AACxD,YAAM,QAAQ,SAAS,cAAc,KAAK;AAC1C,YAAM,KAAK;AACX,YAAM,cAAc;AACpB,YAAM,MAAM,UAAU;AACtB,eAAS,KAAK,YAAY,KAAK;AAC/B,iBAAW,MAAM,MAAM,OAAA,GAAU,IAAI;AAAA,IACvC;AACA,WAAO,MAAM,8BAA8B;AAAA,EAC7C,SAAS,GAAG;AACV,WAAO,MAAM,8BAA8B,aAAa,QAAQ,EAAE,SAAS,EAAE,SAAS,OAAO,EAAE,MAAA,IAAU,CAAC;AAAA,EAC5G;AACF;AAEA,IAAI,SAAS,eAAe,WAAW;AACrC,WAAS,iBAAiB,oBAAoB,YAAY;AAC5D,OAAO;AACL,eAAA;AACF;"}